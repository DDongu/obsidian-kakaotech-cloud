---
sticker: emoji//270d-fe0f
---
# AWS
- AWS 리전: 특정 지역에 위치한 데이터 센터들의 집합
	- AWS의 인프라는 데이터 센터를 기반으로 함
- 가용영역: 같은 리전 내에 존재하는 독립된 데이터 센터 그룹
- 신뢰도: 시스템이 의도한대로 동작하고, 실패하지 않을 것이라는 확신의 정도

## 결함을 최소화 하기 위한 방법론
결함회피
결합탐지 및 정정
결합 감내

#### 시스템 결함과 실패의 차이

### 결함 감내 아키텍처

#### 신뢰도를 결정하는 5가지 중요 요소
- 가용성
- 신뢰성
- 안전성
- 보안
- 회복탄력성

## 고가용성
: 특정 서버에 문제가 발생하더라도 다른 서버에서 사용자 요청을 처리할 수 있는 것
- 동일 데이터 센터에 리소스 생성 시 고가용성 확보 불가
	![[Pasted image 20250224111118.png]]
- 따라서 가용 영역 단위로 리소스를 각각 생성해야 고가용성 확보 가능
	![[Pasted image 20250224111128.png]]
- 확장성과 복원성 역시 고가용성을 함께 고려해야 함
	![[Pasted image 20250224111134.png]]

# AWS 컴퓨팅 서비스
: 내가 만든 프로그램을 실행시킬 수 있는 환경을 제공하는 서비스
## IaaS
: 네트워크 기능, 컴퓨터(가상 또는 전용 하드웨어) 및 데이터 스토리지 공간을 제공하는 서비스
- 기존 IT 리소스와 가장 유사
![[Pasted image 20250224111314.png]]

#### 클라우드 플랫폼 모델
![[Pasted image 20250224111452.png]]
## EC2
: 기존 서버에서 실행하는 것과 동일한 유형의 어플리케이션을 호스팅할 수 있는 가상머신
- 할당 받은 가상 머신을 `인스턴스`라고 함
- 원격 서버 접속으로 사용(SSH 등)
#### 인스턴스 수명 주기
![[Pasted image 20250224112449.png]]

#![[Pasted image 20250224132508.png]]## EC2 컴퓨팅 자원
SW와 OS: `AMI`
CPU, Memory, Network: `인스턴스 Type`
Storage: `EBS` & `Instance Store`
	- `EBS`: 네트워크를 통해 연결되는 스토리지로, 리부트 해도 데이터가 보존됨
	- `Instance Store`: 인스턴스 내부의 스토리지로, 빠르지만 리부트 하면 데이터가 날라감

#### 인스턴스 타입
: vCPU, Memory, Storage, Network로 구분되어 타입이 나뉘어있음
![[Pasted image 20250224113823.png]]

=> 어떤 리소스를 많이 사용하는냐에 따라 타입을 결정해야한다.

#### 스토리지
- 스토리지는 바이트 단위로 접근하지 않고, 블록 단위(1~4KB)로만 접근이 가능(보통 4KB 크기)

**스토리지의 성능 지표**
![[Pasted image 20250224131150.png]]
 **EBS vs Instance Store**
![[Pasted image 20250224132511.png]]

# AWS 리소스
### ARN
: 리소스를 구분하기 위한 유일한 식별자
![[Pasted image 20250224135054.png]]
### 태그
: 리소스에 할당할 수 있는 레이블로, key-value 값으로 구성되어있음(필수설정 X)
- 태깅을 통해 EC2 인스턴스에 의미와 정보를 부여
- 필터링, 자동화, 비용 할당, 액세스 제어 등을 태그에 설정하여 사용 가능
### 계정
: IAM 서비스를 통해 사용자 관리 가능
- IAM 사용자에 따라 서비스 사용에 대한 권한을 다르게 설정할 수 있음
### EC2 과금 모델
: AWS 비용 계산기를 통해 계산 가능

**온디맨드 인스턴스**
- 사용중인 인스턴스에 대해 `시간당` 또는 `초단위` 과금
- 초단위 과금은 Amazon Linux,/Ubuntu/Windows를 실행하는 온디맨드, 예약 및 스팟 인스턴스에서 지원
- 가장 비싼 요금제
**예약 인스턴스(RI)**
- 1년 또는 3년 동안 특정 인스턴스 유형으로 특정 리전 내에서 EC2 인스턴스를 사용할 것을 약정하고, 시간당 USD를 절감하는 방식
- ex) 사내 시스템, ERP, HR, LMS 등의 서비스에서 사용
- 전체 선결제/부분 선결제/선결제 없음

#### Saving Plans
- 특정 인스턴스 타입을 지정해서 예약하는 것이 아닌, **컴퓨팅 사용량에 대해 약정**
- 구매 시에는 특정 인스턴스 타입에 대해서 예약하고, 그 이후에 인스턴스 타입을 변경하면 예약한 인스턴스에 준하는 컴퓨팅 성능을 기준으로 비용을 환산해서 처리
- 특정 인스턴스를 반드시 사용해야 하는  RI에 비해 할인율은 낮지만 유연하게 사용 가능

**Savings Plans 유형**
- `Compute Savings Plans`
	- EC2 인스턴스, Lambda, Fargate 사용량에 적용
	- EC2 인스턴스를 사용하다 Lambda로 대체해도 Savings Plans가 그대로 적용
- `EC2 instance Saving Plans`
	- 특정 EC2 인스턴스 패밀리에 대해서만 한정해서 적용
- `Machine Learning Savings Plans`
	- SageMaker에서 사용되는 컴퓨팅 사용량에 대해 적용
#### Spot Instance
: 미사용중인 EC2 인스턴스를 경매 방식으로 대여해주는 것
- 사용 중에 더 높은 가격으로 다른 사용자가 인스턴스를 요청하는 경우 소유권을 뺏길 수 있음
- 이 경우 2분 후에 종료됨
- 가장 저렴, 온디맨드 대비 90% 할인 가능
- 인스턴스가 불특정 시점에 종료되더라도 상관 없는 경우에 사용

#### 온디맨드 용량 예약
: 원하는 기간 동안 특정 가용 영역의 EC2 인스턴스에 대해 용량을 예약
- 요금 할인과는 관계없이 지정된 기간동안 점유할 수 있는 용량 예약 기능
- 예약 시간에 사용하지 않더라도 시간이 되면 예약한만큼 무조건 부과

#### 인스턴스 구입 옵션
*아래 설정은 별도의 추가 비용 발생*
- 전용 호스트
	- AWS 데이터 센터에 물리 서버를 할당받음
	- 사용자가 지정한 EC2 인스턴스만 해당 서버에서 구동할 수 있는 기능
	- Oracle DB처럼 물리 서버에 대해서 라이선스 비용을 지불해야 하는 경우 사용될 수 있음
- 전용 인스턴스
	- 전용 호스트와 마찬가지로 AWS 데이터 센터에 물리 서버를 할당
	- 사용자 계정 내의 인스턴스만 구동하는 것이 가능
	- 단, 계정 내에 전용 인스턴스가 아닌 일반 EC2 인스턴스가 물리 서버를 사용할 수 있으며, 사용자가 제어할 수 없음


![[Pasted image 20250224144235.png]]
![[Pasted image 20250224144244.png]]

# AWS  서비스 할당량(Quotas)
: AWS의 자원의 할당량을 제어하는 기능
- 서비스 할당량을 웹 콘솔이나 API, CLI 등의 인터페이스를 통해 `중앙 집중식 관리`를 할 수 있음
- 기본 할당량 및 계정별 실제 적용된 할당량을 확인 가능(가시성 향상)
- 콘솔의 단일 페이지를 통해 또는 API 호출을 통한 할당량 증가 요청이 가능
- 선제적 할당량 관리
	- Service Quotas는 CloudWatch와 통합되어 관리됨
	- 임계값 도달 시 경고를 통해 할당량의 선제적 관리 가능
- AWS Organizations 신규 계정 할당량 요청 간소화
	- 여러 계정을 묶는 그룹 계정(하위 계정에 대한 권한 제어 기능이 있음)
	- 일반적으로 Organizations를 통해 새롭게 생성한 게정에 대해서 할당량 증가를 요청
	- 해당 프로세스를 자동화하여 조직의 새 계정에 대한 할당량 요청에 걸리는 시간을 절약하고, 모든 계정을 워크로드의 필요에 따라 일관되게 구성 가능

# AWS 비용 관리
## 예산(Budget)
: 사용가능한 예산을 미리 설정하고, 해당 예산의 임계값에 접근하거나 넘어섰을 경우에 E-mail이나 메신저 등을 통해 경보를 받을 수 있는 서비스
#### 지원 플랜(Support plan)
- AWS 엔지니어 등으로부터 질의응답을 받거나, 계정의 상태를 엔지니어에게 공유하고 문제 해결을 함께 진행할 수 있는 전문 서비스
- 처음 계정 생성 시, 지원 플랜을 선택해야 됨
- 개발과 테스트를 진행중인 계정은 `Developer`나 `Business` 등급을 사용하고, 실서비스를 운영하면서 문제 발생 시 회사에 큰 영향을 미치는 경우에는 `Enterprise` 등급을 사용하는 것이 좋음(이후 변경 가능)
- 지원 플랜마다 가격과 지원 내용이 다름
![[Pasted image 20250224151251.png]]

# AWS 네트워크
**AWS VPC**: AWS에서 네트워크 기반을 만들어주는 서비스
- 데이터 센터에서 서버들끼리 통신하는 독립적인 네트워크를 구성하는 것과 마찬가지로, VPC 역시 해당 AWS 계정에 독립된 네트워크를 구성하는 것.

서브넷(Subnet): 전체 네트워크를 여러 개의 작은 서브 네트워크로 분할하는 기능
- 각 서브 네트워크는 *전체 네트워크 IP 범위*의 *일부분*으로만 지정 가능
- 서로 IP가 겹치면 안됨
- 서브넷의 크기가 달라도 됨

