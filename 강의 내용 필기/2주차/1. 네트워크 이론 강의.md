---
sticker: emoji//270d-fe0f
---
# 1. 개념
- 네트워크: 각종 통신 장비들이 서로 그물망처럼 연결되어 데이터를 교환 하거나 협력하여 일할 수 있게 해주는 통신망
- LAN: 건물 안이나 특정 지역을 범위로 하는 네트워크
	- star형: 하나의 허브에 여러 대의 컴퓨터를 연결하는 방식
		- 확장이 쉽다
		- 허브에서 문제가 발생하면 전체 통신 X
	- ring형: 개별 컴퓨터가 서로 원처럼 연결되어 있는 구성
		- 초기 구성이 쉽다
		- 컴퓨터를 한 대 더 추가할 경우 기존의 링을 절단하고 다시 연결해야 된다.
	- bus형: 하나의 긴 선(케이블)에 컴퓨터를 포함한 모든 주변 장치를 연결하는 방식
		- 비용이 저렴하면서 설치하기 쉽다
		- 케이블에 문제가 생기면 전체 통신 X
- WAN: 2개 이상의 랜을 연결한 네트워크
	- 다른 LAN과 연결되기 위해 사용되는 장거리 전송망

- Layer 3 Switch vs Router
![[Pasted image 20250203102408.png]]

- 네트워크 프로토콜: 컴퓨터나 원거리 통신 장비 사이에서 메시지를 주고받는 양식과 규칙

# 2. OSI 7 계층 vs TCP/IP 4 계층

![[Pasted image 20250203104621.png]]

- 포트 번호는 어플리케이션을 구분하기 위한 번호
	- 검색 80포트, 이메일 25번 등
- IP주소 - 네트워크 계층
- MAC 주소 - 데이터 링크 계층
- `캡슐화`: 계층을 이동할 때마다 헤더를 추가하는 것 (↔ 역캡슐화)
- `역캡슐화`: 계층을 이동할 때마다 헤더를 하나씩 벗기면서 필요한 정보를 얻는 것
## 2.1. OSI 7계층
### 2.1.1. 물리계층
-> 컴퓨터를 물리적으로 연결하거나 데이터를 전기 신호로 변환/제어하는 역할을 담당
#### 케이블
- UTP: 선 사이에서 전파간섭이 생겨, 전선을 꼬아서 사용(ex. 일반 랜선)
- FTP: 알루미늄 은박이 네 가닥의 전선을 감싸고 있는 케이블. FTP에 비해 전연 기능이 좋아 공장의 배선 용도로 많이 사용
- STP: 케이블 겉면에 외부 피복이 추가된 케이블. 외부의 잡을을 차단하거나 전시적 신호의 간섭↓

#### 장비
- 리피터: 전기신호를 증폭해주는 장비(1대1 통신만 지원)
- 허브: 리피터의 확장 버전. 데이터 왜곡을 보정하고, 입력 신호에 대해 데이터 분배 및 네트워크 확장 지원. (여러대의 컴퓨터와 통신 지원)
- 스위치: 허브와 비슷. 허브는 데이터를 보내면 브로드캐스트로만 보내지만, 스위치는 목적지 컴퓨터에게만 데이터를 보낼 수 있게 함.

### 2.1.2. 데이터 링크 계층
-> 데이터를 관리하고 전달하는 계층, 흐름제어 및 오류 탐지·수정 (MAC 주소 이용)
- `MAC 주소`를 활용하여 장비를 식별
- 회선제어: 네트워크 시스템에서 데이터에 접근하기 위한 회선에 대한 접근권을 제어하는 제어 방법
- 오류제어: 송수신 데이터가 변형되거나 순서가 어긋나지 않도록 오류를 검출하고 정정하여 통신에 대한 신뢰성 확보하는 제어방법(`패리티 검사`)
- 흐름제어: 송·수신자의 데이터 처리속도 차이를 해결하기 위해 수신자 상황에 따라 송신자의 데이터 전송량을 조정하는 제어방법

#### 이더넷
-> 네트워크 프로토콜
- 충돌 방지 방법
	- 1-persistent: 
	- nonpersistent: 케이블이 사용중이면 임의의 시간을 기다린 후 데이터 전송하는 방식
	- p-persistent: 케입블이 사용중이면 기다리고, 다시 상태를 확인한 뒤 아무도 사용하고 있지 않다면 일정 확률로 데이터를 보내는 방식
#### MAC 주소
- MAC 주소: 랜 카드에 할당된 값
	- OUI(상위 24비트): 랜 카드 제조사 번호
	- UAA(하위 24비트): 랜 카드 제조사가 부여한 고유 번호
	- ARP: IP주소와 MAC주소를 매핑해주는 프로토콜(ARP 요청은 브로드캐스트임)
- `스위치`에는 스위치 포트에 연결된 컴퓨터의 MAC 주소를 가지고 있는 `MAC 테이블`이 있음
- 스위치를 처음 켜면 MAC 테이블을 업데이트 하는 과정이 필요함

### 2.1.3. 네트워크 계층
-> 데이터 패킷을 목적지까지 최적의 경로로 전달 (IP 주소 이용)
- `Router`: 데이터가 전달되어야 하는 경로를 알려주는 네비게이션 역할을 함
- 혼잡 제어: 네트워크로 즐어가는 정보량을 조절하여 네트워크가 혼잡해지지 않게 조절하는 방법
	- 데이터를 하나 보내고 ACK를 받았을 때, 여러 개의 데이터를 보냄. 점점 많은 양을 보내다가 타임아웃이 되거나, 동일한 ACK를 여러 개를 받으면 다시 하나만 보냄.
- 흐름 제어
- 오류 제어
#### IP 주소
- IP = 네트워크ID + 호스트 ID
- 사용 기관에 따라 클래스로 종류가 나뉘어있음
- NAT: 사설 IP <-> 공인 IP 간의 주소를 변환해주는 프로토콜
- Port forwarding: 공인 IP의 특정 포트로 들어오는 네트워크 트래픽을 사설 IP의 특정 포트로 전달하여 내부 네트워크의 장치나 서비스에 접근할 수 있도록 하는 기술=
#### 브로드캐스트
- 브로드캐스트: 모든 네트워크에 데이터를 전송하는 방식
- 유니캐스트: 1:1로 데이터를 전송하는 방식
- 멀티캐스트: 특정 그룹을 지정해서 그룹에 해당하는 컴퓨터에게만 데이터를 보내는 방식
#### 서브넷
-> 하나의 네트워크를 분할한 작은 네트워크 (서브네팅)
-> IP 주소에서 호스트 ID를 쪼개는 방식
- `서브네팅` 원리: [네트워크ID] + [호스트ID] => [네트워크 ID] + [(서브넷ID)+(호스트ID)]

#### 3-way Handshake
-> TCP 통신을 하는 장치 간에 서로 통신할 준비가 되었는지를 확인하는 방법

![[Pasted image 20250203141501.png]]


# 3. 장비 관점에서 데이터 흐름 이해하기

1) 송시자의 요청이 응용~물리계층을 거쳐서 캡슐화
2) 스위치에서 데이터 링크 계층까지
3) 라우터에서 

![[Pasted image 20250203152857.png]]

![[Pasted image 20250203152712.png]]

# 4. 로드 밸런서
 -> 여러 대의 서버를 뒀을 때 사용자가 한쪽으로 몰리는 것을 분산시켜주는 장치.
- `스케일 아웃`: 1대의 서버에서 여러 대로 늘리는 것
- 부하를 분산시켜주는 작업을 `로드 밸런싱`이라고 함
- 포트 번호를 이용하여 동작

## 4.1. 계층 별 로드 밸런서 동작
### 전송 계층에서 (네트워크 레벨)
1) 로드 밸런서가 먼저 받음
2) 이후 로드 밴런서가 서버로 연결을 요청
3) 여러 대의 서버가 골고루 사용자 연결을 처리
#### 부하 분산 방법
- `라운드 로빈`: 각 서버별로 돌아가면서 연결을 처리(기본적인 방식)
- `가중 라운드 로빈`: 각 서버별로 돌아가면서 연결을 처리하지만 일부 서버는 큰 트래픽을 몰아 받는 방식
- `랜덤`: 무작위로 분배되는 방식
- `해시`: 특정 클라이언트는 특정 서버에서만 처리하는 방식

ALB MLB???

### 응용 계층에서 (어플리케이션 레벨)
-> 기능별로 서버를 나누어 부하를 분산시킴

# 5. VPN
-> 인터넷을 통해 데이터를 안전하게 전송하기 위한 기술